<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="refresh" content="10">  <!-- Refresh every 10 seconds -->
    <title>Waiting for Approval</title>
    <script>
        // JavaScript to check if the user is active
        function checkVerification() {
            fetch("/user/check-verification-status/")  // Adjust to the correct endpoint
            .then(response => response.json())
            .then(data => {
                if (data.is_active) {
                    window.location.href = "/";  // Redirect to home or another page
                }
            });
        }

        // Poll the server every 10 seconds
        setInterval(checkVerification, 10000);
    </script>
</head>
<body>
    <h1>Thank you for registering, {{ user.first_name }}!</h1>
    <p>Your account is awaiting approval. Please check your email for further instructions.</p>
    <p>This page will refresh automatically, and you will be redirected once your account is verified.</p>
</body>
</html>
