{% extends 'base.html' %}
{% load static %}

{% block content %}
<div class="form-container">
    <!-- Display the step title dynamically -->
    <h2>{{ step_title }}</h2>

    <!-- Form for handling multi-step submission -->
    <form method="POST" action="{% url 'freelancer_experience:multi-step' step=step %}">
        {% csrf_token %}
        
        <!-- Render the form fields for the current step -->
        {{ form.as_p }}

        <!-- If this is a formset (like Skills), render its management form and fields -->
        {% if formset %}
            {{ formset.management_form }}
            <div id="formset-body">
                {% for form in formset %}
                    <div class="form-row">
                        {{ form.as_p }}
                    </div>
                {% endfor %}
            </div>
        {% endif %}

        <!-- Display helpful information for users, which can be customized for each step -->
        <div class="form-comments">
            {% if step == 0 %}
                <p>
                    Please provide accurate and detailed information about your professional experience. This data will help recruiters better understand your qualifications and match you with suitable job opportunities.
                </p>
            {% elif step == 1 %}
                <p>
                    Adding relevant skills and specifying your level of experience helps ensure you are matched with jobs where your expertise is in demand.
                </p>
            {% elif step == 2 %}
                <p>
                    Providing your manager's contact information helps recruiters or clients verify your work history and adds credibility to your professional background.
                </p>
            {% elif step == 3 %}
                <p>
                    Specify your preferred work location. This will help recruiters match you with jobs that suit your geographical preferences or remote work conditions.
                </p>
            {% endif %}
        </div>

        <!-- Navigation buttons -->
        <div class="form-navigation">
            {% if step > 0 %}
                <a href="{% url 'freelancer_experience:multi-step' step=step|add:'-1' %}" class="btn btn-secondary">Previous</a>
            {% endif %}
            <button type="submit" class="btn btn-primary">
                {% if next_step %}
                    Next: {{ step_titles[next_step] }}
                {% else %}
                    Finish
                {% endif %}
            </button>
        </div>
    </form>
</div>
{% endblock %}
